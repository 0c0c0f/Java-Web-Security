<html>
<head>
    <title>Ch08_CSRF</title>
    <link rel="stylesheet" type="text/css" href="styles.css" />
  
    <script type="text/javascript">
        function sendForm() {
            var params = "name=XMLHttpRequest";
            var request = new XMLHttpRequest();

            request.open("POST", "http://localhost:8080/Ch08_CSRF/CSRFServlet", true);
            request.setRequestHeader("Content-type", "application/x-www-form-urlencoded");
            request.send(params);

            request.onreadystatechange = function() {
                if (request.readyState == 4) {
                    alert(request.responseText);
                }
            };
        }
    </script>
</head>
<body onload="sendForm()">
    <h1>Ch08_CSRF</h1>

    <h2>Automatic form post with XMLHttpRequest</h2>

    <p><a href="requests-unprotected.jsp">Back</a></p>
</body>
</html>